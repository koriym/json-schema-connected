<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JsonSchema to Array Shape</title>
</head>
<body>
<label for="jsonSchemas">JSON Schemas:</label>
<textarea id="jsonSchemas" rows="10" cols="50">
{
  "$id": "company.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Company",
  "type": "object",
  "properties": {
    "company_id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "departments": {
      "type": "array",
      "items": {
        "$ref": "department.json"
      }
    },
    "address": {
      "$ref": "address.json"
    },
    "contact": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email"
        },
        "phone": {
          "type": "string"
        }
      },
      "required": ["email"]
    }
  }
}
{
  "$id": "department.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Department",
  "type": "object",
  "properties": {
    "department_id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "manager": {
      "$ref": "person.json"
    },
    "employees": {
      "type": "array",
      "items": {
        "$ref": "person.json"
      }
    }
  }
}
{
  "$id": "person.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Person",
  "type": "object",
  "properties": {
    "person_id": {
      "type": "string"
    },
    "first_name": {
      "type": "string"
    },
    "last_name": {
      "type": "string"
    },
    "address": {
      "$ref": "address.json"
    },
    "email": {
      "type": "string",
      "format": "email"
    }
  },
  "required": ["person_id", "first_name", "last_name"]
}
{
  "$id": "address.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Address",
  "type": "object",
  "properties": {
    "street_address": {
      "type": "string"
    },
    "city": {
      "type": "string"
    },
    "state": {
      "type": "string"
    },
    "postal_code": {
      "type": "string"
    }
  }
}
</textarea>
<button onclick="convertJsonSchemasToArrayShapes()" aria-label="Convert JSON Schemas to Array Shape">Convert</button>
<label for="result">Result:</label>
<pre id="result"></pre>

<script src="array-shape.js"></script>
</body>
</html>
